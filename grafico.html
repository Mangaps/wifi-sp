---
layout: grafico
---
<script src="//d3plus.org/js/d3.js"></script>
<script src="//d3plus.org/js/d3plus.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>

      <style>

        body {
          margin: 0;
          overflow: hidden;
        }

      </style>

    </head>

    <body>
        <div id="grafico"></div>
    </body>

    <script>

    //baseado em https://d3plus.org/examples/advanced/a9a9ada6101818be4fdc/

    var json = (function () {
            var json = null;
            $.ajax({
                'async': false,
                'global': false,
                'url': 'https://raw.githubusercontent.com/voltdatalab/wifi-sp/gh-pages/dados.json',
                'dataType': "json",
                'success': function (data) {
                    json = data;
                }
            });
            return json;
        })
        ();


      var visualization = d3plus.viz()
        .container("#grafico")
        .data(json)
        .type("tree_map")
        //.type({"mode": "dice"})
        .id({
          "value": ["zona","bairro"]
        })
        .title({
        "value": "",
        "total": {
          "font": {
            "size": 16,
          },
          "value": true
        },
        "sub": {
          "font": {
            "size": 6
          }

        }
      })
        .size("capacidade")
        .format("pt_BR")
        .margin( "10px 10px" )
        .footer({
          "link": "",
          "value": "Fonte: Prefeitura"
        })
        .tooltip({"value": "model","background":"#f4f4f4"})
      .labels({"align": "center", "valign": "top", "padding": 50, "resize": false})
      .tooltip(["zona", "bairro", "praca", "capacidade"])
        .draw();
    </script>
